<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StockMan</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="shortcut icon" href="images/logo2.ico">
</head>

<body>
  <header>
    <nav class="topNav">
      <div class="leftNav"><img src="images/logoTitlr2.PNG" alt="StockManTextLogo"></div>
      <div class="rightNav">
        <li class="active"><a href="index.html">首頁</a></li>
        <li><a href="why.html">理財與股票</a></li>
        <li><a href="search.html">查詢股票</a></li>
        <li><a href="recommend.html">推薦券商與地圖</a></li>
      </div>
      <div class="navMenu"><i class='bx bx-menu'></i></div>
      <div class="mobileMenu" style="transform: translateY(-100%);">
        <div class="menuClose"><i class='bx bx-x'></i></div>
        <li><a href="index.html">首頁</a></li>
        <li><a href="why.html">理財與股票</a></li>
        <li><a href="search.html">查詢股票</a></li>
        <li><a href="recommend.html">推薦券商與地圖</a></li>
      </div>
    </nav>
  </header>

  <!-- carousel  -->
  <section class="carousel">
    <div class="carContainer container">
      <div class="carouselImg fade">
        <img src="images/k1.jpg">
        <div class="carouseltext">
          <h3>通膨不死 升息不止</h3>
          <p class="imgText">美國通膨率持續遠高於聯準會 (Fed)2% 目標，曾引發伊爾艾朗 (Mohamed El-Erian)、羅格夫 (Kenneth Rogoff)等學者批評訂得太低，不過被譽為「Fed
            傳聲筒」的華爾街日報 (WSJ) 記者 Nick Timiraos 引述克里夫蘭聯邦準備銀行的研究報告，暗示新的通膨目標可能是 2.8%。 </p>
          <p><a href="https://news.cnyes.com/news/id/5093063" target="_blank">繼續閱讀</a></p>
        </div>
      </div>

      <div class="carouselImg fade">
        <img src="images/k2.webp">
        <div class="carouseltext">
          <h3>王子復仇記</h3>
          <p class="imgText">全球邊境解封，帶動跨境觀光熱潮，航空股20日表現活躍。興櫃航空股星宇航空延續上週漲勢，20日終場收在新台幣44.95元，漲幅近40%，超車台灣虎航成為航空股王。</p>
          <p><a href="https://www.businessweekly.com.tw/business/blog/3011761" target="_blank">繼續閱讀</a></p>
        </div>
      </div>

      <div class="carouselImg fade">
        <img src="images/k3.jpg">
        <div class="carouseltext">
          <h3>巴菲特賣台積電？</h3>
          <p class="imgText">
            波克夏海瑟威即將在本週六（2月25日）公布財報。波克夏2022年第四季將台積電（2330）ADR持股大砍86%，勢必成為投資人檢視巴菲特股東信的重點。波克夏副董事長查理蒙格（Charlie
            Munger）日前的說法，或許透露出售台積電ADR的一絲線索。</p>
          <p><a href="https://www.storm.mg/lifestyle/4737706" target="_blank">繼續閱讀</a></p>
        </div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prevImg" id="prevImg">&#10094;</a>
      <a class="nextImg" id="nextImg">&#10095;</a>
      <div class="carouselDots">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>

  </section>

  <!-- origin -->
  <section class="origin">
    <div class="container m-auto">
      <div class="originContent ">
        <h2>創立初衷</h2>
        <p>
          希望對於社會新鮮人，可以透過網站內容理解通膨，建立理財觀念，透過設定長期目標，有效規劃理財。<span>因為現金會隨著通貨膨脹減少實質購買力，同時資產的價格也會隨之上漲，其中部分資產類別的增值幅度，有機會超過通貨膨脹幅度，在情況許可下，在個人財務規劃中，配置部分的資產是對於財產是可以達到分散風險，甚至有機會能擊敗通膨，讓個人財產增幅大於通膨。資產的類別又分為許多種，其中股票取得的難易度相對容易，且金額可大可小。本網站想透過易懂的介紹，讓一般人能更深入的了解股票，並且透過查詢功能，檢視有興趣的股票。</span>
          <a href="why.html">→學習更多</a>
        </p>
        <p class="quote">股份公司為了籌集資金，發給投資人的憑證。簡單來說，股票投資，就是擁有那家公司部分的所有權，有福同享，有難同當；當公司賺錢時，就能依照持股比例分配盈餘，反之，也得承受股票投資虧損的風險。
        </p>
        <p class="quoteOrigin">── 引用自 日盛證券</p>
      </div>
    </div>
  </section>

  <!-- eIndex -->
  <section class="eIndex">
    <div class="container m-auto">
      <h2><small id="month"></small> 台灣經濟相關數據</h2>
      <div class="countryIndex">
        <div class="col-1" style="background-image: url(images/economic1.jpg);">
          <div class="overlayText">
            <h3 id="cpiTitle">消費者物價指數</h3>
            <p id="cpi"></p>
          </div>
        </div>
        <div class="col-2" style="background-image: url(images/economic3.jpg);">
          <div class="overlayText">
            <h3 id="cpiGTitle">指標</h3>
            <p id="cpiG"></p>
          </div>
        </div>
        <div class="col-3" style="background-image: url(images/economic2.jpg);">
          <div class="overlayText">
            <h3 id="eGTitle">指標</h3>
            <p id="eG"></p>
          </div>
        </div>
      </div>

      <h2> 美國經濟相關數據</h2>
      <div class="countryIndex">
        <div class="col-4" style="background-image: url(images/america.jpg);">
          <div class="overlayText">
            <h3>消費者物價指數</h3>
            <p>2023-01</p>
            <p>6.35 %</p>
          </div>
        </div>
        <div class="col-5" style="background-image: url(images/america2.jpg);">
          <div class="overlayText">
            <h3>聯準會目標利率上限</h3>
            <p>2023-02-21</p>
            <p>4.75 %</p>
          </div>
        </div>
        <div class="col-6" style="background-image: url(images/america3.jpg);">
          <div class="overlayText">
            <h3>零售銷售(年增率)</h3>
            <p>2023-01</p>
            <p>6.38 %</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- footer -->
  <footer>
    <div class="m-auto container">
      <div class="f-content">
        <img src="images/footerLogo.PNG" alt="">
        <div class="f-link">
          <li class="nav-item text-center">
            <a class="nav-link active" aria-current="page" href="index.html">首頁</a>
          </li>
          <li class="nav-item text-center">
            <a class="nav-link" href="search.html">查詢股票</a>
          </li>
          <li class="nav-item text-center">
            <a class="nav-link" href="why.html">常見問題</a>
          </li>
        </div>
      </div>
    </div>
  </footer>
  <!-- <script src="js/index.js"></script> -->
  <script>
    // 漢堡選單RWD js
    let menuClose = document.getElementsByClassName("menuClose")[0];
    let mobileMenu = document.getElementsByClassName("mobileMenu")[0];
    let navMenu = document.getElementsByClassName("navMenu")[0];

    menuClose.addEventListener('click', function () {
      // mobileMenu.classList.add("d-none");
      mobileMenu.style.transform = "translateY(-100%)";
    })

    navMenu.addEventListener('click', function () {
      mobileMenu.style.transform = "translateY(0%)";
    })

    // Carousel

    let carouselIndex = 1;
    showSlides(carouselIndex);

    // let prevImg = document.getElementById("prevImg");
    // prevImg.onclick = function(){
    // showSlides(-1);
    //   console.log(-1);
    // }

    function plusSlides(n) {
      showSlides(carouselIndex += n);
    }

    function currentSlides(n) {
      showSlides(carouselIndex = n);
    }

    document.getElementById("prevImg").addEventListener("click", function () {
      plusSlides(-1);
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });
    document.getElementById("nextImg").addEventListener("click", function () {
      plusSlides(1);
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });

    function showSlides(n) {
      let i;
      let slides = document.getElementsByClassName("carouselImg");
      let dots = document.getElementsByClassName("dot");
      if (n > slides.length) { carouselIndex = 1 };
      if (n < 1) { carouselIndex = slides.length };
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" dot-active", "");
      }
      slides[carouselIndex - 1].style.display = "block";
      dots[carouselIndex - 1].className += " dot-active";
    }

    let slideIndex = 0;
    let automove = setInterval(autoSlides, 5000); //透過變數已供clearInterval使用
    automove;
    function autoSlides() {
      let i;
      let slides = document.getElementsByClassName("carouselImg");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) { slideIndex = 1 }
      slides[slideIndex - 1].style.display = "block";

      d = new Date();
      // console.log(d); //除錯用
    }

    // dot click
    document.getElementsByClassName("dot")[0].addEventListener("click", function () {
      currentSlides(1)
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });
    document.getElementsByClassName("dot")[1].addEventListener("click", function () {
      currentSlides(2)
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });
    document.getElementsByClassName("dot")[2].addEventListener("click", function () {
      currentSlides(3)
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });
    // carousel end

    window.onload = function () {
      getEcIndex();

    }

    function getEcIndex() {
      fetch('https://apiservice.mol.gov.tw/OdService/rest/datastore/A17030000J-000016-1ci')
        .then((response) => {
          return response.json();
        })
        .then((response) => {
          let data = response.result.records[12];
          console.log(data);

          // 取key
          key = new Array();
          for (x in data) { key[key.length] = x };
          console.log(key);

          // 取value
          val = []
          Object.values(data).forEach((item) => val.push(item));
          // console.log(val)

          document.getElementById("month").innerHTML = data.月別;
          valNAN("cpi",key[13]);
          document.getElementById("cpiTitle").innerHTML = key[13];

          valNAN("eG",val[1]);
          document.getElementById("eGTitle").innerHTML = `${key[1]}`;


          valNAN("cpiG",val[14]);
          document.getElementById("cpiGTitle").innerHTML = key[14];

        })
        .catch((error) => {
          console.log(error);
        })
    }

    function valNAN(element,data) {
      if (isNaN(parseFloat(data.substr(1, data.length)))) {
        document.getElementById(element).innerHTML = "尚未公布";
      } else {
        document.getElementById(element).innerHTML = parseFloat(data.substr(1, data.length));
        let span = document.createElement("span");
        span.innerHTML = " %"
        document.getElementById(element).appendChild(span);
      }
    }
  </script>
</body>

</html>