<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
    <nav class="topNav">
      <div class="leftNav"><img src="images/logoTitlr.JPG" alt="StockManTextLogo"></div>
      <div class="rightNav">
        <li><a href="index.html"></a>首頁</li>
        <li><a href=""></a>理財與股票</li>
        <li><a href=""></a>查詢股票</li>
        <li><a href=""></a>推薦券商與地圖</li>
      </div>
      <div class="navMenu"><i class='bx bx-menu'></i></div>
      <div class="mobileMenu d-none">
        <div class="menuClose"><i class='bx bx-x'></i></div>
        <li><a href="index.html"></a>首頁</li>
        <li><a href=""></a>理財與股票</li>
        <li><a href=""></a>查詢股票</li>
        <li><a href=""></a>推薦券商與地圖</li>
      </div>
    </nav>
  </header>

  <!-- how to  -->
  <section class="carousel">
    <div class="carContainer">
      <div class="carouselImg fade">
        <img src="images/k1.jpg">
        <div class="carouseltext">
          <h3>Title</h3>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam dolore quia blanditiis! Non harum alias
            magnam unde laborum maiores repudiandae quisquam ab vel assumenda? Temporibus placeat omnis nesciunt quam
            quasi!</p>
        </div>
      </div>

      <div class="carouselImg fade">
        <img src="images/k2.jpg">
        <div class="carouseltext">
          <h3>Title</h3>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam dolore quia blanditiis! Non harum alias
            magnam unde laborum maiores repudiandae quisquam ab vel assumenda? Temporibus placeat omnis nesciunt quam
            quasi!</p>
        </div>
      </div>

      <div class="carouselImg fade">
        <img src="images/k3.jpg">
        <div class="carouseltext">
          <h3>Title</h3>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam dolore quia blanditiis! Non harum alias
            magnam unde laborum maiores repudiandae quisquam ab vel assumenda? Temporibus placeat omnis nesciunt quam
            quasi!</p>
        </div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prevImg" id="prevImg">&#10094;</a>
      <a class="nextImg" id="nextImg">&#10095;</a>
      <div class="carouselDots">
        <span class="dot" onclick="currentSlides(1)"></span>
        <span class="dot" onclick="currentSlides(2)"></span>
        <span class="dot" onclick="currentSlides(3)"></span>
      </div>
    </div>

  </section>

  <script>

    // 漢堡選單js
    let menuClose = document.getElementsByClassName("menuClose")[0];
    let mobileMenu = document.getElementsByClassName("mobileMenu")[0];
    let navMenu = document.getElementsByClassName("navMenu")[0];

    menuClose.addEventListener('click', function () {
      mobileMenu.classList.add("d-none");
    })

    navMenu.addEventListener('click', function () {
      mobileMenu.classList.remove("d-none")
    })

    // Carousel

    let carouselIndex = 1;
    showSlides(carouselIndex);

    // let prevImg = document.getElementById("prevImg");
    // prevImg.onclick = function(){
    // showSlides(-1);
    //   console.log(-1);
    // }

    function plusSlides(n) {
      showSlides(carouselIndex += n);
    }

    function currentSlides(n) {
      showSlides(carouselIndex = n);
    }

    document.getElementById("prevImg").addEventListener("click", function () {
      plusSlides(-1);
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });
    document.getElementById("nextImg").addEventListener("click", function () {
      plusSlides(1);
      clearInterval(automove);
      automove = setInterval(autoSlides, 5000)
    });

    function showSlides(n) {
      let i;
      let slides = document.getElementsByClassName("carouselImg");
      let dots = document.getElementsByClassName("dot");
      if (n > slides.length) { carouselIndex = 1 };
      if (n < 1) { carouselIndex = slides.length };
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" dot-active", "");
      }
      slides[carouselIndex - 1].style.display = "block";
      dots[carouselIndex - 1].className += " dot-active";
    }

    let slideIndex = 0;
    let automove = setInterval(autoSlides, 5000); //透過變數已供clearInterval使用
    function autoSlides() {
      let i;
      let slides = document.getElementsByClassName("carouselImg");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) { slideIndex = 1 }
      slides[slideIndex - 1].style.display = "block";

      let d = new Date();
      console.log(d)
    }
  </script>
</body>

</html>